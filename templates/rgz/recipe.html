{% extends 'rgz.html' %}
{% block main %}
  <div class="recipe-single">
    <h2>{{ recipe['title'] }}</h2>
    {% if recipe.get('photo_url') %}
      <img src="{{ recipe['photo_url'] }}" alt="{{ recipe['title'] }}" class="recipe-photo">
    {% endif %}
    {% if recipe.get('description') %}
      <p class="muted">{{ recipe['description'] }}</p>
    {% endif %}
    <h3>Ингредиенты</h3>
    <ul>
      {% for ing in ingredients %}
        <li>{{ ing['name'] }}{% if ing.get('amount') %} — {{ ing['amount'] }}{% endif %}</li>
      {% endfor %}
    </ul>
    <h3>Шаги приготовления</h3>
    <pre class="steps">{{ recipe['steps'] }}</pre>

    {% if is_admin %}
      <div style="margin-top:12px;">
        <a href="/rgz/admin/edit/{{ recipe['id'] }}" class="btn-main">Редактировать</a>
        <form action="/rgz/admin/delete/{{ recipe['id'] }}" method="post" style="display:inline;">
          <button class="btn-delete" onclick="return confirm('Удалить рецепт?');">Удалить</button>
        </form>
      </div>
    {% endif %}
  </div>
{% endblock %}